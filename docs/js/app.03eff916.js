(function(t){function e(e){for(var n,o,u=e[0],s=e[1],i=e[2],b=0,d=[];b<u.length;b++)o=u[b],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,i||[]),c()}function c(){for(var t,e=0;e<a.length;e++){for(var c=a[e],n=!0,u=1;u<c.length;u++){var s=c[u];0!==r[s]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=c[0]))}return t}var n={},r={app:0},a=[];function o(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=t,o.c=n,o.d=function(t,e,c){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(c,n,function(e){return t[e]}.bind(null,n));return c},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var i=0;i<u.length;i++)e(u[i]);var l=s;a.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"104a":function(t,e,c){"use strict";c("fd33")},3745:function(t,e,c){"use strict";c("cfd1")},4103:function(t,e,c){},"4a16":function(t,e,c){"use strict";c("6e4f")},"4d9a":function(t,e,c){"use strict";c("e209")},"4e92":function(t,e,c){"use strict";c("83d8")},"526c":function(t,e,c){},"52df":function(t,e,c){},5465:function(t,e,c){"use strict";c("4103")},5472:function(t,e,c){},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r={class:"nav-container"},a={class:"nav-left"},o=Object(n["f"])("流亡購物網"),u=Object(n["f"])("商品"),s={class:"nav-right"},i={class:"btn-logout"};function l(t,e,c,l,b,d){var p=Object(n["z"])("router-link"),O=Object(n["z"])("router-view");return Object(n["r"])(),Object(n["e"])(n["a"],null,[Object(n["g"])("div",{id:"nav",class:{fixTop:l.activeFixTop}},[Object(n["g"])("div",r,[Object(n["g"])("div",a,[Object(n["g"])(p,{class:"logo",to:"/"},{default:Object(n["G"])((function(){return[o]})),_:1}),Object(n["g"])(p,{to:"/"},{default:Object(n["G"])((function(){return[u]})),_:1})]),Object(n["g"])("div",s,[Object(n["g"])("ul",null,[Object(n["g"])("li",null,[Object(n["g"])(p,{to:"/cart"},{default:Object(n["G"])((function(){return[Object(n["f"])("購物車 ("+Object(n["B"])(l.cart_Items_Length)+")",1)]})),_:1})]),Object(n["g"])("li",{onMouseenter:e[4]||(e[4]=function(){return l.AuthStatusMenu&&l.AuthStatusMenu.apply(l,arguments)}),onMouseleave:e[5]||(e[5]=function(t){return l.activeLogout=!1})},[Object(n["g"])("a",{onClick:e[1]||(e[1]=function(){return l.AuthLink&&l.AuthLink.apply(l,arguments)})},Object(n["B"])(l.userName),1),Object(n["H"])(Object(n["g"])("div",i,[Object(n["g"])("span",{onClick:e[2]||(e[2]=function(){return l.ChatIn&&l.ChatIn.apply(l,arguments)})},"聊天室"),Object(n["g"])("span",{onClick:e[3]||(e[3]=function(){return l.Logout&&l.Logout.apply(l,arguments)})},"登出")],512),[[n["E"],l.activeLogout]])],32)])])])],2),Object(n["g"])(O)],64)}c("1276"),c("ac1f");var b=c("260b"),d=(c("66ce"),c("ea7b"),{apiKey:"AIzaSyC2ouC97CV5e9MD5skeg3rWt2FJ4MBMsnU",authDomain:"vue-auth-c019f.firebaseapp.com",databaseURL:"https://vue-auth-c019f-default-rtdb.firebaseio.com",projectId:"vue-auth-c019f",storageBucket:"vue-auth-c019f.appspot.com",messagingSenderId:"228070067666",appId:"1:228070067666:web:07270c4e8bd7e95113cc0b"}),p=b["a"].initializeApp(d),O=p,j=c("5502"),f=c("6c02"),g={setup:function(){var t=Object(n["w"])(""),e=Object(n["w"])(!1),c=Object(n["w"])(!1),r=Object(j["b"])(),a=Object(f["c"])();Object(n["n"])((function(){O.auth().onAuthStateChanged((function(e){if(e){var c=O.auth().currentUser.email.split("@")[0];t.value=c}else t.value="登入"}))})),Object(n["p"])((function(){r.dispatch("Products/handInit"),r.dispatch("updateCartFromLocalStorage"),window.document.onscroll=function(){window.scrollY>0?c.value=!0:c.value=!1}}));var o=Object(n["c"])((function(){return r.getters.cartItemsLength})),u=function(){O.auth().signOut().then((function(){return a.push({path:"/login"})})).catch((function(t){return console.log(t.message)})),e.value=!1,a.push({path:"/"})},s=function(){"登入"!==t.value&&(e.value=!0)},i=function(){"登入"===t.value&&a.push({path:"/login"})},l=function(){a.push({path:"/chat"})};return{userName:t,activeLogout:e,activeFixTop:c,cart_Items_Length:o,Logout:u,AuthStatusMenu:s,AuthLink:i,ChatIn:l}}};c("c08e");g.render=l;var v=g,m=Object(n["J"])("data-v-332adb30");Object(n["u"])("data-v-332adb30");var h=Object(n["g"])("h1",null,"商品資訊",-1),C={class:"home"},y={class:"product-card-container"},_=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"商品"),Object(n["g"])("th",null,"價格"),Object(n["g"])("th",null,"加入購物車")])],-1),I={class:"footer-container"};Object(n["s"])();var w=m((function(t,e,c,r,a,o){var u=Object(n["z"])("ProductTable"),s=Object(n["z"])("Footer");return Object(n["r"])(),Object(n["e"])(n["a"],null,[h,Object(n["g"])("div",C,[Object(n["g"])("div",y,[Object(n["g"])("table",null,[_,(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(r.getProducts,(function(t){return Object(n["r"])(),Object(n["e"])(u,{key:t.id,product:t},null,8,["product"])})),128))])]),Object(n["g"])("div",I,[Object(n["g"])(s)])])],64)})),k=(c("b0c0"),Object(n["J"])("data-v-4aca6de6"));Object(n["u"])("data-v-4aca6de6");var L={class:"price"},D={class:"btn-container"};Object(n["s"])();var S=k((function(t,e,c,r,a,o){var u=Object(n["z"])("slot-card");return Object(n["r"])(),Object(n["e"])("tbody",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,[Object(n["g"])("img",{src:r.props.product.url},null,8,["src"]),Object(n["g"])("span",{class:"productName",onMouseenter:e[1]||(e[1]=function(t){return r.getOffset(t)}),onMouseleave:e[2]||(e[2]=function(){return r.handLeave&&r.handLeave.apply(r,arguments)})},[Object(n["f"])(Object(n["B"])(r.props.product.name)+" ",1),Object(n["g"])(n["b"],{name:"slotTooltip"},{default:k((function(){return[Object(n["H"])(Object(n["g"])(u,{class:[{top:1==r.pos},{bottom:0==r.pos},{center:2==r.pos},{"top-sm":4==r.pos},{"bottom-sm":3==r.pos}]},{name:k((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.name),1)]})),category:k((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.category),1)]})),description_1:k((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_1),1)]})),description_2:k((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_2),1)]})),src:k((function(){return[Object(n["g"])("img",{src:r.props.product.url},null,8,["src"])]})),_:1},8,["class"]),[[n["E"],r.active]])]})),_:1})],32)]),Object(n["g"])("td",null,[Object(n["g"])("div",L,"$ "+Object(n["B"])(r.props.product.price),1)]),Object(n["g"])("td",null,[Object(n["g"])("div",D,[Object(n["g"])("button",{onClick:e[3]||(e[3]=function(t){return r.removeFromCart()})},"-"),Object(n["g"])("span",null,Object(n["B"])(r.product_count),1),Object(n["g"])("button",{onClick:e[4]||(e[4]=function(t){return r.addToCart()})},"+")])])])])})),B=Object(n["J"])("data-v-2a4193c0");Object(n["u"])("data-v-2a4193c0");var T={class:"hover-card"},P={class:"card-title"},M=Object(n["g"])("div",{class:"titleCurrencyBarL"},null,-1),F=Object(n["g"])("div",{class:"titleCurrencyBarR"},null,-1),H={class:"titleCurrencyText"},x={class:"card-content"},A=Object(n["g"])("div",{class:"currencySeparator"},null,-1),J={class:"description_Mod"},N=Object(n["g"])("div",{class:"currencySeparator"},null,-1),z={class:"description_Des"},E={class:"card-img"};Object(n["s"])();var $=B((function(t,e){return Object(n["r"])(),Object(n["e"])("div",T,[Object(n["g"])("div",P,[M,F,Object(n["g"])("div",H,[Object(n["g"])("span",null,[Object(n["y"])(t.$slots,"name")])])]),Object(n["g"])("div",x,[Object(n["y"])(t.$slots,"category"),A,Object(n["g"])("span",J,[Object(n["y"])(t.$slots,"description_1")]),N,Object(n["g"])("span",z,[Object(n["y"])(t.$slots,"description_2")])]),Object(n["g"])("div",E,[Object(n["y"])(t.$slots,"src")])])}));c("104a");const U={};U.render=$,U.__scopeId="data-v-2a4193c0";var Y=U,V={props:["product"],components:{SlotCard:Y},setup:function(t){var e=Object(n["w"])(!1),c=Object(n["w"])(0),r=Object(j["b"])(),a=Object(n["c"])((function(){return r.getters.productCount(t.product)})),o=function(){r.dispatch("removeFromCart",t.product)},u=function(){r.dispatch("addToCart",t.product)},s=function(){e.value=!1},i=function(t){e.value=!0;var n=window.innerWidth<767;n?t.clientY<window.innerHeight/2?c.value=3:c.value=4:t.clientY<200?c.value=0:t.clientY>700?c.value=1:c.value=2};return{props:t,active:e,pos:c,product_count:a,removeFromCart:o,addToCart:u,handLeave:s,getOffset:i}}};c("80c4");V.render=S,V.__scopeId="data-v-4aca6de6";var W=V,R=Object(n["J"])("data-v-9be98e32");Object(n["u"])("data-v-9be98e32");var G={class:"footer-content"},K=Object(n["g"])("h6",null,"本站為練習作品，不使用於任何商業營利或虛寶交易行為",-1),q=Object(n["g"])("h6",null,"Copyright © 2021 TingHao. All rights reserved",-1);Object(n["s"])();var Q=R((function(t,e){return Object(n["r"])(),Object(n["e"])("div",G,[K,q])}));c("3745");const X={};X.render=Q,X.__scopeId="data-v-9be98e32";var Z=X,tt={name:"Home",components:{ProductTable:W,Footer:Z},setup:function(){var t=Object(j["b"])(),e=Object(n["c"])((function(){return t.getters["Products/getProducts"]}));return{getProducts:e}}};c("8c74");tt.render=w,tt.__scopeId="data-v-332adb30";var et=tt,ct=Object(n["J"])("data-v-59533dcc");Object(n["u"])("data-v-59533dcc");var nt=Object(n["g"])("h1",null,"購物車",-1);Object(n["s"])();var rt=ct((function(t,e,c,r,a,o){var u=Object(n["z"])("CartCard"),s=Object(n["z"])("CartTotalPayment"),i=Object(n["z"])("CartCardEmpty");return Object(n["r"])(),Object(n["e"])(n["a"],null,[nt,(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(r.items,(function(t){return Object(n["r"])(),Object(n["e"])(u,{key:t.id,product:t},null,8,["product"])})),128)),r.cartCount?(Object(n["r"])(),Object(n["e"])(s,{key:0})):(Object(n["r"])(),Object(n["e"])(i,{key:1}))],64)})),at=Object(n["J"])("data-v-2bb0c686");Object(n["u"])("data-v-2bb0c686");var ot={class:"cart-card"},ut={class:"content"},st={class:"btn-container"};Object(n["s"])();var it=at((function(t,e,c,r,a,o){var u=Object(n["z"])("slot-card");return Object(n["r"])(),Object(n["e"])("div",ot,[Object(n["g"])("div",ut,[Object(n["g"])("div",null,[Object(n["g"])("span",{class:"productName",onMouseenter:e[1]||(e[1]=function(t){return r.getOffset(t)}),onMouseleave:e[2]||(e[2]=function(){return r.handLeave&&r.handLeave.apply(r,arguments)})},[Object(n["f"])(Object(n["B"])(r.props.product.name)+" ",1),Object(n["g"])(n["b"],{name:"slotTooltip"},{default:at((function(){return[Object(n["H"])(Object(n["g"])(u,{class:[{top:1==r.pos},{bottom:0==r.pos},{center:2==r.pos},{"top-sm":4==r.pos},{"bottom-sm":3==r.pos}]},{name:at((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.name),1)]})),category:at((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.category),1)]})),description_1:at((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_1),1)]})),description_2:at((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_2),1)]})),src:at((function(){return[Object(n["g"])("img",{src:r.props.product.url},null,8,["src"])]})),_:1},8,["class"]),[[n["E"],r.active]])]})),_:1})],32)]),Object(n["g"])("h4",null,"數量: "+Object(n["B"])(r.props.product.count),1),Object(n["g"])("h4",null,"小計: $"+Object(n["B"])(r.item_cost),1)]),Object(n["g"])("div",st,[Object(n["g"])("button",{class:"btn btn-attention",onClick:e[3]||(e[3]=function(t){return r.deleteFromCart()})},"刪除")])])})),lt={props:["product"],components:{SlotCard:Y},setup:function(t){var e=Object(n["w"])(!1),c=Object(n["w"])(0),r=Object(j["b"])(),a=Object(n["c"])((function(){return t.product.price*t.product.count})),o=function(){r.dispatch("deleteFromCart",t.product)},u=function(){e.value=!1},s=function(t){e.value=!0;var n=window.innerWidth<767;n?t.clientY<window.innerHeight/2?c.value=3:c.value=4:t.clientY<200?c.value=0:t.clientY>700?c.value=1:c.value=2};return{props:t,active:e,pos:c,item_cost:a,deleteFromCart:o,handLeave:u,getOffset:s}}};c("5465");lt.render=it,lt.__scopeId="data-v-2bb0c686";var bt=lt,dt=Object(n["J"])("data-v-28bc7f38");Object(n["u"])("data-v-28bc7f38");var pt={class:"cart-card-empty"},Ot=Object(n["g"])("h2",null,"購物車裡什麼也沒有！",-1),jt=Object(n["f"])("來去逛逛");Object(n["s"])();var ft=dt((function(t,e){var c=Object(n["z"])("router-link");return Object(n["r"])(),Object(n["e"])("div",pt,[Ot,Object(n["g"])(c,{class:"btn btn-default",to:"/"},{default:dt((function(){return[jt]})),_:1})])}));c("4a16");const gt={};gt.render=ft,gt.__scopeId="data-v-28bc7f38";var vt=gt,mt=Object(n["J"])("data-v-f927ad46");Object(n["u"])("data-v-f927ad46");var ht={class:"cartTotal"},Ct={class:"cartTotal-title"},yt={class:"btn-container"},_t=Object(n["f"])("繼續選購"),It=Object(n["f"])("前往結帳");Object(n["s"])();var wt=mt((function(t,e,c,r,a,o){var u=Object(n["z"])("router-link");return Object(n["r"])(),Object(n["e"])("div",ht,[Object(n["g"])("div",Ct,[Object(n["g"])("h3",null,"總計 : $"+Object(n["B"])(r.cart_total),1),Object(n["g"])("button",{class:"btn btn-attention",onClick:e[1]||(e[1]=function(){return r.clearCart&&r.clearCart.apply(r,arguments)})},"清空購物車")]),Object(n["g"])("div",yt,[Object(n["g"])(u,{class:"btn",to:"/"},{default:mt((function(){return[_t]})),_:1}),Object(n["g"])(u,{class:"btn btn-default",to:"/".concat(r.routerPath),onClick:r.CheckAuthStatus},{default:mt((function(){return[It]})),_:1},8,["to","onClick"])])])})),kt={setup:function(){var t=Object(j["b"])(),e=Object(n["w"])(""),c=Object(n["c"])((function(){return t.getters.cartTotal})),r=function(){O.auth().onAuthStateChanged((function(t){e.value=t?"order":"login"}))},a=function(){t.dispatch("clearCart")};return{cart_total:c,CheckAuthStatus:r,routerPath:e,clearCart:a}}};c("96f2");kt.render=wt,kt.__scopeId="data-v-f927ad46";var Lt=kt,Dt={name:"Cart",components:{CartCard:bt,CartTotalPayment:Lt,CartCardEmpty:vt},setup:function(){var t=Object(j["b"])(),e=Object(n["c"])((function(){return t.getters.cartItems})),c=Object(n["c"])((function(){return t.getters.cartItemsLength}));return Object(n["F"])(c,(function(t){})),{items:e,cartCount:c}}};c("d9cc");Dt.render=rt,Dt.__scopeId="data-v-59533dcc";var St=Dt,Bt=Object(n["J"])("data-v-04bb02a4");Object(n["u"])("data-v-04bb02a4");var Tt={class:"cart-order"},Pt=Object(n["g"])("h1",null,"填寫訂單資料",-1),Mt=Object(n["g"])("label",null,"收件人姓名",-1),Ft=Object(n["g"])("label",null,"Email",-1),Ht=Object(n["g"])("label",null,"電話",-1),xt=Object(n["g"])("label",null,"地址",-1),At={class:"btn-container"},Jt=Object(n["f"])("回購物車");Object(n["s"])();var Nt=Bt((function(t,e,c,r,a,o){var u=Object(n["z"])("router-link");return Object(n["r"])(),Object(n["e"])("div",Tt,[Pt,Object(n["g"])("form",{onSubmit:e[5]||(e[5]=Object(n["I"])((function(){return o.orderData&&o.orderData.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",null,[Mt,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入收件人姓名","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.userData.name=t})},null,512),[[n["D"],r.userData.name]])]),Object(n["g"])("div",null,[Ft,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入Email","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.userData.email=t})},null,512),[[n["D"],r.userData.email]])]),Object(n["g"])("div",null,[Ht,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入電話","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.userData.phone=t})},null,512),[[n["D"],r.userData.phone,void 0,{lazy:!0}]])]),Object(n["g"])("div",null,[xt,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入收件地址","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.userData.address=t})},null,512),[[n["D"],r.userData.address,void 0,{lazy:!0}]])]),Object(n["g"])("div",At,[Object(n["g"])(u,{class:"btn",to:"/cart"},{default:Bt((function(){return[Jt]})),_:1}),Object(n["g"])("button",{type:"submit",class:["btn btn-default",{"btn-notAllowed":r.isCheck}]}," 提交訂單 ",2)])],32)])})),zt={setup:function(){var t=Object(n["v"])({name:"",email:"",phone:"",address:"",transactionID:0}),e=Object(n["w"])(!0),c=Object(n["v"])({phone:!1,address:!1}),r=/^[0-9]*[1-9][0-9]*$/,a=Object(f["c"])();return Object(n["n"])((function(){O.auth().onAuthStateChanged((function(e){if(e){var c=O.auth().currentUser.email,n=c.split("@")[0];t.name=n,t.email=c}else a.push({path:"/login"})}))})),setTimeout((function(){Object(n["F"])((function(){return t.phone}),(function(t){var e=r.test(t);return t.length<8?(c.phone=!1,alert("電話不能小於8個字元")):e?void(c.phone=!0):(c.phone=!1,alert("電話須為數字"))})),Object(n["F"])((function(){return t.address}),(function(t){if(t.length<1)return c.address=!1,alert("收件地址為必填");c.address=!0}))}),1e3),Object(n["F"])(c,(function(t){t.phone&&t.address?e.value=!1:e.value=!0})),{userData:t,isCheck:e}},methods:{orderData:function(){this.$store.dispatch("addtoOrder",this.userData),this.$router.push({path:"/checkOut"})}}};c("bcd8");zt.render=Nt,zt.__scopeId="data-v-04bb02a4";var Et=zt,$t=Object(n["J"])("data-v-38ab96f3");Object(n["u"])("data-v-38ab96f3");var Ut=Object(n["g"])("h1",null,"確認訂單",-1),Yt={class:"checkOut"},Vt={class:"product-card-container"},Wt=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"商品"),Object(n["g"])("th",null,"數量"),Object(n["g"])("th",null,"小計")])],-1);Object(n["s"])();var Rt=$t((function(t,e,c,r,a,o){var u=Object(n["z"])("CartCheckProducts"),s=Object(n["z"])("CartCheckUser");return Object(n["r"])(),Object(n["e"])(n["a"],null,[Ut,Object(n["g"])("div",Yt,[Object(n["g"])("div",Vt,[Object(n["g"])("table",null,[Wt,(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(r.cart,(function(t){return Object(n["r"])(),Object(n["e"])(u,{key:t.id,product:t},null,8,["product"])})),128))])])]),Object(n["g"])(s,{order:r.order},null,8,["order"])],64)})),Gt=Object(n["J"])("data-v-d0a27c56"),Kt=Gt((function(t,e,c,r,a,o){var u=Object(n["z"])("slot-card");return Object(n["r"])(),Object(n["e"])("tbody",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,[Object(n["g"])("span",{class:"productName",onMouseenter:e[1]||(e[1]=function(t){return r.getOffset(t)}),onMouseleave:e[2]||(e[2]=function(){return r.handLeave&&r.handLeave.apply(r,arguments)})},[Object(n["f"])(Object(n["B"])(r.props.product.name)+" ",1),Object(n["g"])(n["b"],{name:"slotTooltip"},{default:Gt((function(){return[Object(n["H"])(Object(n["g"])(u,{class:[{top:1==r.pos},{bottom:0==r.pos},{center:2==r.pos},{"top-sm":4==r.pos},{"bottom-sm":3==r.pos}]},{name:Gt((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.name),1)]})),category:Gt((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.category),1)]})),description_1:Gt((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_1),1)]})),description_2:Gt((function(){return[Object(n["f"])(Object(n["B"])(r.props.product.description_2),1)]})),src:Gt((function(){return[Object(n["g"])("img",{src:r.props.product.url},null,8,["src"])]})),_:1},8,["class"]),[[n["E"],r.active]])]})),_:1})],32)]),Object(n["g"])("td",null,Object(n["B"])(r.props.product.count),1),Object(n["g"])("td",null,"$"+Object(n["B"])(r.item_cost),1)])])})),qt={props:["product"],components:{SlotCard:Y},setup:function(t){var e=Object(n["w"])(!1),c=Object(n["w"])(0),r=Object(n["c"])((function(){return t.product.price*t.product.count})),a=function(){e.value=!1},o=function(t){e.value=!0;var n=window.innerWidth<767;n?t.clientY<window.innerHeight/2?c.value=3:c.value=4:t.clientY<200?c.value=0:t.clientY>700?c.value=1:c.value=2};return{props:t,active:e,pos:c,item_cost:r,getOffset:o,handLeave:a}}};c("e05c");qt.render=Kt,qt.__scopeId="data-v-d0a27c56";var Qt=qt,Xt=Object(n["J"])("data-v-13e3fbe7");Object(n["u"])("data-v-13e3fbe7");var Zt={class:"checkOutTotal"},te=Object(n["g"])("td",null,"收件人姓名",-1),ee=Object(n["g"])("td",null,"電子信箱",-1),ce=Object(n["g"])("td",null,"收件人電話",-1),ne=Object(n["g"])("td",null,"收件人地址",-1),re={class:"checkOutTotal-container"};Object(n["s"])();var ae=Xt((function(t,e,c,r,a,o){return Object(n["r"])(),Object(n["e"])("div",Zt,[Object(n["g"])("table",null,[Object(n["g"])("tr",null,[te,Object(n["g"])("td",null,Object(n["B"])(r.props.order.name),1)]),Object(n["g"])("tr",null,[ee,Object(n["g"])("td",null,Object(n["B"])(r.props.order.email),1)]),Object(n["g"])("tr",null,[ce,Object(n["g"])("td",null,Object(n["B"])(r.props.order.phone),1)]),Object(n["g"])("tr",null,[ne,Object(n["g"])("td",null,Object(n["B"])(r.props.order.address),1)])]),Object(n["g"])("div",re,[Object(n["g"])("span",null,"總計 : $"+Object(n["B"])(r.cart_total),1),Object(n["g"])("button",{class:"btn btn-default",onClick:e[1]||(e[1]=function(){return o.complet&&o.complet.apply(o,arguments)})},"確認付款")])])})),oe=(c("159b"),c("d3b7"),c("25f0"),c("a15b"),c("d81d"),{props:["order"],setup:function(t){var e=Object(j["b"])(),c=Object(n["c"])((function(){return e.getters.cartTotal}));return{cart_total:c,props:t}},methods:{complet:function(){var t=this.getTransactionID();this.$store.dispatch("addTransactionID",t);var e=this.$store.getters.cartItems,c=this.$store.getters.cartTotal,n=O.database().ref("orderList"),r={transactionID:this.props.order.transactionID,userData:{userName:this.props.order.name,userEmail:this.props.order.email,userPhone:this.props.order.phone,userAddress:this.props.order.address},orderContent:{product:[],total:c}};e.forEach((function(t){var e={productName:t.name,productCount:t.count,productPrice:t.price};r.orderContent.product.push(e)})),n.push(r),this.$store.dispatch("clearCart"),this.$router.push("/complet")},getTransactionID:function(){var t=function(t){return t=t.toString(),t[1]?t:"0"+t},e=function(e){var c=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),u=e.getSeconds();return[c,n,r].map(t).join("")+[a,o,u].map(t).join("")};return e(new Date)}}});c("d6f8");oe.render=ae,oe.__scopeId="data-v-13e3fbe7";var ue=oe,se={components:{CartCheckProducts:Qt,CartCheckUser:ue},setup:function(){var t=Object(j["b"])(),e=Object(f["c"])(),c=Object(n["c"])((function(){return t.getters.orderList})),r=Object(n["c"])((function(){return t.getters.cartItems}));return Object(n["p"])((function(){"{}"===JSON.stringify(c.value)&&e.go(-1)})),Object(n["n"])((function(){O.auth().onAuthStateChanged((function(t){t||e.push("/login")}))})),{order:c,cart:r}}};c("5a55");se.render=Rt,se.__scopeId="data-v-38ab96f3";var ie=se,le=Object(n["J"])("data-v-796ec64a");Object(n["u"])("data-v-796ec64a");var be={class:"cardComplet"},de=Object(n["g"])("h1",null,"付款完成，感謝您的支持",-1),pe=Object(n["f"])(" 訂單編號 : ");Object(n["s"])();var Oe=le((function(t,e,c,r,a,o){return Object(n["r"])(),Object(n["e"])("div",be,[de,Object(n["g"])("h3",null,[pe,Object(n["g"])("span",null,Object(n["B"])(r.transactionID),1)]),Object(n["g"])("button",{class:"btn btn-default",onClick:e[1]||(e[1]=function(){return r.backHome&&r.backHome.apply(r,arguments)})},"繼續購物")])})),je={setup:function(){var t=Object(j["b"])(),e=Object(f["c"])();Object(n["n"])((function(){O.auth().onAuthStateChanged((function(t){t||e.push({path:"/login"})}))}));var c=Object(n["c"])((function(){return t.getters.transactionID})),r=function(){return e.push({path:"/"})};return{transactionID:c,backHome:r}}};c("ff17");je.render=Oe,je.__scopeId="data-v-796ec64a";var fe=je,ge=Object(n["J"])("data-v-2f8ef0ac");Object(n["u"])("data-v-2f8ef0ac");var ve={class:"login"},me={class:"formContainer"},he=Object(n["g"])("label",null,"Email : ",-1),Ce=Object(n["g"])("label",null,"密碼 : ",-1),ye=Object(n["g"])("input",{type:"submit",value:"登入"},null,-1),_e=Object(n["f"])(" 需要一個新帳戶嗎? "),Ie=Object(n["g"])("label",null,"Email : ",-1),we=Object(n["g"])("label",null,"密碼 : ",-1),ke=Object(n["g"])("input",{type:"submit",value:"註冊"},null,-1),Le=Object(n["f"])(" 你已經擁有帳戶? ");Object(n["s"])();var De=ge((function(t,e,c,r,a,o){return Object(n["r"])(),Object(n["e"])("div",ve,[Object(n["g"])("h1",null,Object(n["B"])(r.title),1),Object(n["g"])("div",me,[Object(n["g"])(n["b"],{name:"login"},{default:ge((function(){return[Object(n["H"])(Object(n["g"])("form",{onSubmit:e[4]||(e[4]=Object(n["I"])((function(){return r.Login&&r.Login.apply(r,arguments)}),["prevent"]))},[Object(n["g"])("div",null,[he,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入Email","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.email=t})},null,512),[[n["D"],r.email]])]),Object(n["g"])("div",null,[Ce,Object(n["H"])(Object(n["g"])("input",{type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.password=t})},null,512),[[n["D"],r.password]])]),ye,Object(n["g"])("p",null,[_e,Object(n["g"])("a",{href:"javascript:;",onClick:e[3]||(e[3]=function(){return r.toggleIsLogin&&r.toggleIsLogin.apply(r,arguments)})}," 建立帳戶")])],544),[[n["E"],r.isLogin]])]})),_:1}),Object(n["g"])(n["b"],{name:"login"},{default:ge((function(){return[Object(n["H"])(Object(n["g"])("form",{onSubmit:e[8]||(e[8]=Object(n["I"])((function(){return r.Register&&r.Register.apply(r,arguments)}),["prevent"]))},[Object(n["g"])("div",null,[Ie,Object(n["H"])(Object(n["g"])("input",{type:"text",placeholder:"請輸入Email","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.email=t})},null,512),[[n["D"],r.email]])]),Object(n["g"])("div",null,[we,Object(n["H"])(Object(n["g"])("input",{type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.password=t})},null,512),[[n["D"],r.password]])]),ke,Object(n["g"])("p",null,[Le,Object(n["g"])("a",{href:"javascript:;",onClick:e[7]||(e[7]=function(){return r.toggleIsLogin&&r.toggleIsLogin.apply(r,arguments)})}," 登入帳戶")])],544),[[n["E"],!r.isLogin]])]})),_:1})])])})),Se={name:"Login",setup:function(){var t=Object(n["w"])(!0),e=Object(n["w"])("登入"),c=Object(n["w"])(""),r=Object(n["w"])(""),a=Object(f["c"])(),o=function(){O.auth().signInWithEmailAndPassword(c.value,r.value).then((function(){a.go(-1)})).catch((function(t){return console.log(t.message)}))},u=function(){O.auth().createUserWithEmailAndPassword(c.value,r.value).then((function(){s()})).catch((function(t){return console.log(t.message)}))},s=function(){t.value=!t.value,1==t.value?e.value="登入":e.value="註冊"};return{title:e,email:c,password:r,Login:o,isLogin:t,toggleIsLogin:s,Register:u}}};c("4e92");Se.render=De,Se.__scopeId="data-v-2f8ef0ac";var Be=Se,Te=Object(n["J"])("data-v-2fe99ae7");Object(n["u"])("data-v-2fe99ae7");var Pe=Object(n["f"])(" 你好, "),Me=Object(n["f"])(" 今晚想聊點什麼? "),Fe={class:"chatContainer"},He={class:"message-inner"},xe={class:"userName"},Ae={class:"content"},Je=Object(n["g"])("input",{type:"submit",value:"送出"},null,-1);Object(n["s"])();var Ne=Te((function(t,e,c,r,a,o){return Object(n["r"])(),Object(n["e"])(n["a"],null,[Object(n["g"])("header",null,[Object(n["g"])("h1",null,[Pe,Object(n["g"])("span",null,Object(n["B"])(r.state.userName),1),Me])]),Object(n["g"])("section",Fe,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(r.state.messages,(function(t){return Object(n["r"])(),Object(n["e"])("div",{key:t.key,class:t.userName==r.state.userName?"message current-user":"message"},[Object(n["g"])("div",He,[Object(n["g"])("div",xe,Object(n["B"])(t.userName),1),Object(n["g"])("div",Ae,Object(n["B"])(t.content),1)])],2)})),128))]),Object(n["g"])("footer",null,[Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["I"])((function(){return r.SendMessage&&r.SendMessage.apply(r,arguments)}),["prevent"]))},[Object(n["H"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.inputMessage=t}),placeholder:"請輸入訊息..."},null,512),[[n["D"],r.inputMessage]]),Je],32)])],64)})),ze=(c("b64b"),{setup:function(){var t=Object(f["c"])(),e=Object(n["w"])(""),c=Object(n["v"])({userName:"",messages:[]});Object(n["n"])((function(){O.auth().onAuthStateChanged((function(e){if(e){var n=O.auth().currentUser.email.split("@")[0];c.userName=n}else t.push({path:"/login"})}))}));var r=function(){var t=O.database().ref("messages");if(""!==e.value&&null!==e.value){var n={userName:c.userName,content:e.value};t.push(n),e.value=""}};return Object(n["p"])((function(){var t=O.database().ref("messages");t.on("value",(function(t){var e=t.val();if(null!==e){var n=[];Object.keys(e).forEach((function(t){n.push({id:t,userName:e[t].userName,content:e[t].content})})),c.messages=n}}))})),{state:c,inputMessage:e,SendMessage:r}}});c("4d9a");ze.render=Ne,ze.__scopeId="data-v-2fe99ae7";var Ee=ze,$e=[{path:"/",name:"Home",component:et},{path:"/cart",name:"Cart",component:St},{path:"/order",name:"Order",component:Et},{path:"/checkOut",name:"CheckOut",component:ie},{path:"/complet",name:"Complet",component:fe},{path:"/login",name:"Login",component:Be},{path:"/chat",name:"chat",component:Ee}],Ue=Object(f["a"])({history:Object(f["b"])(),routes:$e}),Ye=Ue,Ve=c("5530"),We=(c("7db0"),c("13d5"),c("4de4"),{namespaced:!0,state:{products:[]},getters:{getProducts:function(t){return t.products}},actions:{handInit:function(t){var e=t.commit,c=O.database().ref("products");c.once("value",(function(t){e("setProducts",t.val())}))}},mutations:{setProducts:function(t,e){t.products=e}}});function Re(t){localStorage.setItem("cart",JSON.stringify(t))}var Ge=Object(j["a"])({state:{cart:[],order:{}},getters:{productCount:function(t){return function(e){var c=t.cart.find((function(t){return t.id===e.id}));return c?c.count:0}},cartItems:function(t){return t.cart},cartItemsLength:function(t){return t.cart.length},cartTotal:function(t){return t.cart.reduce((function(t,e){return t+e.price*e.count}),0)},orderList:function(t){return t.order},transactionID:function(t){return t.order.transactionID}},actions:{clearCart:function(t){var e=t.commit;e("clearCart")},deleteFromCart:function(t,e){var c=t.commit;c("deleteFromCart",e)},removeFromCart:function(t,e){var c=t.commit;c("removeFromCart",e)},addToCart:function(t,e){var c=t.commit;c("addToCart",e)},updateCartFromLocalStorage:function(t){var e=t.commit;e("updateCartFromLocalStorage")},addtoOrder:function(t,e){var c=t.commit;c("addtoOrder",e)},addTransactionID:function(t,e){var c=t.commit;c("addTransactionID",e)}},mutations:{addTransactionID:function(t,e){t.order.transactionID=e},addtoOrder:function(t,e){t.order=e},clearCart:function(t){t.cart=[],Re(t.cart)},deleteFromCart:function(t,e){var c=t.cart.find((function(t){return t.id===e.id}));c&&(t.cart=t.cart.filter((function(t){return t.id!==e.id}))),Re(t.cart)},removeFromCart:function(t,e){var c=t.cart.find((function(t){return t.id===e.id}));c&&(c.count>1?c.count--:t.cart=t.cart.filter((function(t){return t.id!==e.id}))),Re(t.cart)},addToCart:function(t,e){var c=t.cart.find((function(t){return t.id===e.id}));c?c.count++:t.cart.push(Object(Ve["a"])(Object(Ve["a"])({},e),{},{count:1})),Re(t.cart)},updateCartFromLocalStorage:function(t){var e=localStorage.getItem("cart");e&&(t.cart=JSON.parse(e))}},modules:{Products:We}});Object(n["d"])(v).use(Ge).use(Ye).mount("#app")},"5a55":function(t,e,c){"use strict";c("52df")},"5c0d":function(t,e,c){},"6e4f":function(t,e,c){},"7dee":function(t,e,c){},"80c4":function(t,e,c){"use strict";c("e914")},"83d8":function(t,e,c){},"8c74":function(t,e,c){"use strict";c("5472")},"96f2":function(t,e,c){"use strict";c("7dee")},b2a6:function(t,e,c){},b5fd:function(t,e,c){},bba2:function(t,e,c){},bcd8:function(t,e,c){"use strict";c("b5fd")},c08e:function(t,e,c){"use strict";c("5c0d")},cfd1:function(t,e,c){},d6f8:function(t,e,c){"use strict";c("bba2")},d9cc:function(t,e,c){"use strict";c("e334")},e05c:function(t,e,c){"use strict";c("526c")},e209:function(t,e,c){},e334:function(t,e,c){},e914:function(t,e,c){},fd33:function(t,e,c){},ff17:function(t,e,c){"use strict";c("b2a6")}});
//# sourceMappingURL=app.03eff916.js.map